# **TODO List**

A snapshot of the Eco Unit project's backlog generated by AI at 30/12.
Reviewed and maintained by the author of this project.
Organized by categories, priority and dependencies:

## **API Tasks**

# TODO List for Ecosystem Keepers  

## API Tasks  

### Week 1: Foundation and Deployment  
- [ ] **Fix container exit issue**  
  - [ ] Test `CMD` behavior in the `Dockerfile`.  
  - [ ] Validate `docker-compose` file configurations (network, volumes, etc.).  
- [ ] **Implement proper bind mounts** for synchronization.
- [ ] **Implement basic unit tests**
  - [ ] `MasterHandler` tests
  - [ ] `handler_trace_*` tests
  - [ ] `handler_options_*` tests
  - [ ] `handler_post_*` tests
- [ ] **Add POST handlers**:
  - [ ] Write unit tests for POST to `index_tables`.
  - [ ] Create handler.
  - [ ] Create use case.
  - [ ] Create _db_operation.
- [ ] **Switch to fully assyncronous logic**
  - [ ] Find the right lib
  - [ ] Turn methods asyncronous
- [ ] **Add more POST handlers**:
  - [ ] Write unit tests for POST to `agent_tables`.
  - [ ] Create handler.
  - [ ] Create use case.
  - [ ] Create _db_operation.
  - [ ] Write unit tests for POST to `agent_input_tables`.
  - [ ] Create handler.
  - [ ] Create use case.
  - [ ] Create _db_operation.
- [ ] **Enable hybrid data handling for `agent_input_tables`**.
  - [ ] Create a unified request handler for diagnostics, configurations, and state data.

---

### Week 2: Logging and Testing  
- [ ] **Enhance logging infrastructure**:  
  - [ ] Replace plain string exceptions with proper exception classes.  
  - [ ] Allow custom logging levels in `enableLog`.  
  - [ ] Validate log file paths and directories.  
  - [ ] Add confirmation messages for successful logging setup.  
- [ ] **Test logger in multi-threaded/multi-process environments**.  
- [ ] **Refactor error handling across all endpoints and use cases**.  
- [ ] **Debug import errors in unit tests**.  
- [ ] **Add unit tests for existing handlers and endpoints**.  

---

### Week 3: Enhancements and Dynamic Configuration  
- [ ] **Enable dynamic port configuration** in `docker-compose` and API.  
- [ ] **Implement centralized logging**:  
  - [ ] Add runtime logs for endpoint requests and responses.  
  - [ ] Integrate logs into a centralized system for future scalability.  
- [ ] **Ensure all API handlers integrate with repository interfaces**.  
- [ ] **Add tests for edge cases** in the `TraceHandler` and unified request handler.  

---

### Week 4: Testing and Final Adjustments  
- [ ] **Validate CRUD handler functionality** with integration tests.  
- [ ] **Review test coverage** and increase it where necessary.  
- [ ] **Perform stress and performance testing** on the unified handler.  
- [ ] **Perform a full API code review**:  
  - [ ] Refactor code for readability and maintainability.  
  - [ ] Document all endpoints, request/response structures, and logging mechanisms.  

---

## **Database Tasks**

### **High Priority**
- [ ] Add timestamps and logs:
  - [ ] Include `created_at` and `updated_at` in necessary tables.
  - [ ] Modify `agent_input.date_time` to serve as `created_at`.
- [ ] Implement table listener
  - [ ] Create trigger and table: `agent_change_log`
- [ ] Add repository interfaces for **Entities**:
  - [ ] Align repository methods with API use cases.

### **Medium Priority**
- [ ] Integrate database logic into API endpoints.

---

## **Eco Unit Tasks**

### **High Priority**
- [ ] Update Eco Unit code:
  - [ ] Collect self-diagnostics.
  - [ ] Manage local storage for collected data.
  - [ ] Implement Wi-Fi scanning and connectivity.
  - [ ] Develop a web client for server communication.
  - [ ] Update constants and variables from server configurations.
- [ ] Improve rainforest simulation:
  - [ ] Add methods for enhanced logic and user interaction.
  - [ ] Integrate communication features.

---

## **Technical Enhancements**

### **High Priority**
- [ ] Enhance `TraceHandler`:
  - [ ] Add dynamic logging for calling methods using `inspect.stack`.
  - [ ] Test edge cases like malformed requests.
- [ ] Debug and add test coverage:
  - [ ] Fix existing import and test errors.
  - [ ] Cover all use cases and endpoints with new tests.
- [ ] Others:
  - [ ] Improve error handling in API use cases and endpoints.
  - [ ] Implement database integration for all endpoints, ensuring data consistency.
  - [ ] Add unit tests for API endpoints and database interactions.
  - [ ] Enable dynamic port configuration for the application.
  - [ ] Integrate hybrid data sending logic for Eco Units.

---

### Notes:
- Use this file as your master reference for all tasks.
- Update the status of tasks by marking them `[x]` when completed.
- Group similar tasks under headers to ensure clarity and traceability.
- Regularly review and re-prioritize tasks based on project needs.
